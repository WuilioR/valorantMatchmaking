{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../hooks/useAuth';import MatchAcceptance from'./MatchAcceptance';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Matchmaking=()=>{const{user}=useAuth();const navigate=useNavigate();const[isInQueue,setIsInQueue]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[queueData,setQueueData]=useState({players_in_queue:0,players:[],estimated_wait:'2-5 minutes',can_start_match:false});const[currentMatch,setCurrentMatch]=useState(null);const[foundMatch,setFoundMatch]=useState(null);const[showAcceptance,setShowAcceptance]=useState(false);const[isCreatingMatch,setIsCreatingMatch]=useState(false);// Fetch queue status\nconst fetchQueueStatus=async()=>{try{const response=await fetch('http://localhost:8080/api/queue/status');const data=await response.json();if(data.success){setQueueData(data.data);// Check if match can start\nif(data.data.can_start_match&&isInQueue){await createMatch();}}}catch(error){console.error('Error fetching queue status:',error);setError('Failed to fetch queue status');}};// Check if player has a pending match\nconst checkForPendingMatch=async()=>{try{const userID=localStorage.getItem('session-user-id');const response=await fetch('http://localhost:8080/api/match-room/player',{headers:{'X-User-ID':userID||''}});if(response.ok){const data=await response.json();if(data.success&&data.data){console.log('ðŸ“¢ Found pending match for player:',data.data);// Player has a pending match - show acceptance popup\nsetFoundMatch(data.data);setShowAcceptance(true);setCurrentMatch(data.data);setIsInQueue(false);return true;}}return false;}catch(error){console.error('Error checking for pending match:',error);return false;}};// Join queue\nconst joinQueue=async()=>{if(!user){navigate('/login');return;}setLoading(true);setError('');try{// Get stored user ID or create one based on user's email\nlet userID=localStorage.getItem('session-user-id');if(!userID){// Use email-based ID for consistency\nuserID=\"user-\".concat(user.email.replace(/[^a-zA-Z0-9]/g,'-'),\"-\").concat(Date.now());localStorage.setItem('session-user-id',userID);}// Use real user data\nconst username=user.username||user.email.split('@')[0];const elo=user.elo||1200;console.log('Joining queue with:',{userID,username,elo});const response=await fetch('http://localhost:8080/api/queue/join',{method:'POST',headers:{'Content-Type':'application/json','X-User-ID':userID,'X-Username':username,'X-User-ELO':elo.toString()},body:JSON.stringify({username:username,elo:elo})});const data=await response.json();if(response.ok&&data.success){// Store the user ID returned by backend (in case it was generated there)\nif(data.userID){localStorage.setItem('session-user-id',data.userID);}setIsInQueue(true);fetchQueueStatus();}else{setError(data.message||'Failed to join queue');}}catch(error){console.error('Error joining queue:',error);setError('Failed to join queue');}finally{setLoading(false);}};// Leave queue\nconst leaveQueue=async()=>{if(!user)return;setLoading(true);setError('');try{const userID=localStorage.getItem('session-user-id');if(!userID){setError('No session found');setLoading(false);return;}const response=await fetch('http://localhost:8080/api/queue/leave',{method:'POST',headers:{'Content-Type':'application/json','X-User-ID':userID}});const data=await response.json();if(response.ok&&data.success!==false){setIsInQueue(false);fetchQueueStatus();}else{setError(data.message||'Failed to leave queue');}}catch(error){console.error('Error leaving queue:',error);setError('Failed to leave queue');}finally{setLoading(false);}};// Create match when ready\nconst createMatch=async()=>{// Prevent multiple simultaneous match creation attempts\nif(isCreatingMatch){console.log('Match creation already in progress, skipping...');return;}setIsCreatingMatch(true);try{var _data$data;console.log('Attempting to create match...');const userID=localStorage.getItem('session-user-id');const response=await fetch('http://localhost:8080/api/match-room/create',{method:'POST',headers:{'Content-Type':'application/json','X-User-ID':userID||''}});console.log('Response status:',response.status);console.log('Response ok:',response.ok);const data=await response.json();console.log('Parsed data:',data);console.log('data.success:',data.success);console.log('data.data:',data.data);console.log('data.data.match:',(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.match);if(response.ok&&data.success&&data.data){console.log('âœ… Match created successfully:',data.data.match);// Show acceptance popup instead of immediately navigating\nsetFoundMatch(data.data.match);setShowAcceptance(true);setCurrentMatch(data.data.match);setIsInQueue(false);}else{var _data$data2,_data$data3;console.log('âŒ Failed to create match:',data.message||((_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.message));setError(data.message||((_data$data3=data.data)===null||_data$data3===void 0?void 0:_data$data3.message)||'Failed to create match room');}}catch(error){console.error('Error creating match room:',error);setError('Failed to create match room');}finally{setIsCreatingMatch(false);}};// Real-time queue updates and match detection\nuseEffect(()=>{const pollForUpdates=async()=>{// First check if player has a pending match\nif(isInQueue&&!showAcceptance&&!currentMatch){const hasPendingMatch=await checkForPendingMatch();if(hasPendingMatch){return;// Stop polling queue if we found a match\n}}// Then check queue status\nawait fetchQueueStatus();};// Initial fetch\npollForUpdates();// Set up polling for real-time updates\nconst interval=setInterval(pollForUpdates,1000);// Update every second\nreturn()=>clearInterval(interval);},[isInQueue,showAcceptance,currentMatch]);// Dependencies to re-run when these change\n// Check for match room creation when queue data changes\nuseEffect(()=>{if(queueData.should_create_match&&isInQueue&&queueData.players_in_queue===2&&!currentMatch&&!isCreatingMatch){// TEMPORARY: Changed from 10 to 2\ncreateMatch();}},[queueData.should_create_match,queueData.players_in_queue,isInQueue,currentMatch,isCreatingMatch]);const handleMatchAccept=()=>{console.log('Match accepted');// The acceptance is handled by the MatchAcceptance component\n// We can add additional logic here if needed\n};const handleMatchDecline=()=>{console.log('Match declined');setFoundMatch(null);setShowAcceptance(false);setCurrentMatch(null);setError('Match was declined. You have been returned to the queue.');};// Show match found modal\nif(currentMatch){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-96 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-valorant-dark-secondary border border-valorant-red rounded-lg p-8 text-center max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-green-400 text-6xl mb-4\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-valorant text-white mb-2\",children:\"MATCH FOUND\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-valorant-gray-300\",children:\"Redirecting to game lobby...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-valorant-gray-400\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Match ID: \",currentMatch.id]}),/*#__PURE__*/_jsx(\"p\",{children:\"Game Mode: Competitive\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Players: 10/10\"})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-valorant text-white mb-4 text-glow\",children:\"COMPETITIVE MATCHMAKING\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-valorant-gray-300 text-lg\",children:\"Find players of similar skill level for ranked matches\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-900 border border-red-600 text-red-300 px-4 py-2 rounded mb-6\",children:error}),queueData.is_queue_full&&!isInQueue&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-900 border border-orange-600 text-orange-300 px-4 py-2 rounded mb-6\",children:\"Queue is currently full. Please wait for the current match to start before joining.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-valorant-dark-secondary border border-valorant-gray-700 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-medium text-white mb-4\",children:\"Queue Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-valorant-gray-300\",children:\"Players in Queue:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-medium\",children:[queueData.players_in_queue,\"/\",queueData.max_players||10]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-valorant-gray-300\",children:\"Estimated Wait:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:queueData.estimated_wait})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-valorant-gray-300\",children:\"Your Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(isInQueue?'text-green-400':'text-gray-400'),children:isInQueue?'In Queue':'Not Queued'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-valorant-gray-800 rounded-full h-2 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 \".concat(queueData.is_queue_full?'bg-gradient-to-r from-orange-500 to-red-500':'bg-valorant-red'),style:{width:\"\".concat(queueData.players_in_queue/(queueData.max_players||10)*100,\"%\")}})}),!isInQueue?/*#__PURE__*/_jsx(\"button\",{onClick:joinQueue,disabled:loading||queueData.is_queue_full,className:\"w-full \".concat(queueData.is_queue_full?'bg-gray-600 text-gray-400 cursor-not-allowed':'btn-primary'),children:loading?'Joining...':queueData.is_queue_full?'QUEUE FULL':'JOIN QUEUE'}):/*#__PURE__*/_jsx(\"button\",{onClick:leaveQueue,disabled:loading,className:\"btn-secondary w-full\",children:loading?'Leaving...':'LEAVE QUEUE'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-valorant-dark-secondary border border-valorant-gray-700 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-medium text-white mb-4\",children:\"Match Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-valorant-gray-300 mb-2\",children:\"Game Mode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white\",children:\"Competitive\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-valorant-gray-300 mb-2\",children:\"Map Pool\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:['Bind','Haven','Split','Ascent','Icebox'].map(map=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-valorant-gray-800 text-valorant-gray-300 text-sm rounded\",children:map},map))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-valorant-gray-300 mb-2\",children:\"Match Format\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white\",children:\"10 rounds to win\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-valorant-gray-300 mb-2\",children:\"Team Size\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white\",children:\"5v5\"})]})]})]})]}),isInQueue&&queueData.players&&queueData.players.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-valorant-dark-secondary border border-valorant-gray-700 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-medium text-white mb-4\",children:\"Players in Queue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-4\",children:queueData.players.map((player,index)=>{var _player$username;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-valorant-gray-800 rounded-full mx-auto mb-2 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:((_player$username=player.username)===null||_player$username===void 0?void 0:_player$username.charAt(0))||'P'})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-white\",children:player.username||\"Player \".concat(index+1)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-valorant-gray-400\",children:[\"ELO: \",player.elo||1000]})]},index);})})]}),showAcceptance&&foundMatch&&/*#__PURE__*/_jsx(MatchAcceptance,{match:foundMatch,onAccept:handleMatchAccept,onDecline:handleMatchDecline})]});};export default Matchmaking;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","MatchAcceptance","jsx","_jsx","jsxs","_jsxs","Matchmaking","user","navigate","isInQueue","setIsInQueue","loading","setLoading","error","setError","queueData","setQueueData","players_in_queue","players","estimated_wait","can_start_match","currentMatch","setCurrentMatch","foundMatch","setFoundMatch","showAcceptance","setShowAcceptance","isCreatingMatch","setIsCreatingMatch","fetchQueueStatus","response","fetch","data","json","success","createMatch","console","checkForPendingMatch","userID","localStorage","getItem","headers","ok","log","joinQueue","concat","email","replace","Date","now","setItem","username","split","elo","method","toString","body","JSON","stringify","message","leaveQueue","_data$data","status","match","_data$data2","_data$data3","pollForUpdates","hasPendingMatch","interval","setInterval","clearInterval","should_create_match","handleMatchAccept","handleMatchDecline","className","children","id","is_queue_full","max_players","style","width","onClick","disabled","map","length","player","index","_player$username","charAt","onAccept","onDecline"],"sources":["C:/Users/wuili/Documents/valorant-mobile-web/frontend/src/components/Game/Matchmaking.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { QueueData, Match } from '../../types';\r\nimport MatchAcceptance from './MatchAcceptance';\r\n\r\nconst Matchmaking: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [isInQueue, setIsInQueue] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string>('');\r\n  const [queueData, setQueueData] = useState<QueueData>({\r\n    players_in_queue: 0,\r\n    players: [],\r\n    estimated_wait: '2-5 minutes',\r\n    can_start_match: false\r\n  });\r\n  const [currentMatch, setCurrentMatch] = useState<Match | null>(null);\r\n  const [foundMatch, setFoundMatch] = useState<Match | null>(null);\r\n  const [showAcceptance, setShowAcceptance] = useState(false);\r\n  const [isCreatingMatch, setIsCreatingMatch] = useState(false);\r\n\r\n  // Fetch queue status\r\n  const fetchQueueStatus = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/queue/status');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setQueueData(data.data);\r\n        \r\n        // Check if match can start\r\n        if (data.data.can_start_match && isInQueue) {\r\n          await createMatch();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching queue status:', error);\r\n      setError('Failed to fetch queue status');\r\n    }\r\n  };\r\n\r\n  // Check if player has a pending match\r\n  const checkForPendingMatch = async () => {\r\n    try {\r\n      const userID = localStorage.getItem('session-user-id');\r\n      const response = await fetch('http://localhost:8080/api/match-room/player', {\r\n        headers: {\r\n          'X-User-ID': userID || ''\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.success && data.data) {\r\n          console.log('ðŸ“¢ Found pending match for player:', data.data);\r\n          \r\n          // Player has a pending match - show acceptance popup\r\n          setFoundMatch(data.data);\r\n          setShowAcceptance(true);\r\n          setCurrentMatch(data.data);\r\n          setIsInQueue(false);\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Error checking for pending match:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Join queue\r\n  const joinQueue = async () => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // Get stored user ID or create one based on user's email\r\n      let userID = localStorage.getItem('session-user-id');\r\n      if (!userID) {\r\n        // Use email-based ID for consistency\r\n        userID = `user-${user.email.replace(/[^a-zA-Z0-9]/g, '-')}-${Date.now()}`;\r\n        localStorage.setItem('session-user-id', userID);\r\n      }\r\n      \r\n      // Use real user data\r\n      const username = user.username || user.email.split('@')[0];\r\n      const elo = user.elo || 1200;\r\n      \r\n      console.log('Joining queue with:', { userID, username, elo });\r\n      \r\n      const response = await fetch('http://localhost:8080/api/queue/join', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-ID': userID,\r\n          'X-Username': username,\r\n          'X-User-ELO': elo.toString()\r\n        },\r\n        body: JSON.stringify({\r\n          username: username,\r\n          elo: elo\r\n        })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (response.ok && data.success) {\r\n        // Store the user ID returned by backend (in case it was generated there)\r\n        if (data.userID) {\r\n          localStorage.setItem('session-user-id', data.userID);\r\n        }\r\n        setIsInQueue(true);\r\n        fetchQueueStatus();\r\n      } else {\r\n        setError(data.message || 'Failed to join queue');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error joining queue:', error);\r\n      setError('Failed to join queue');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Leave queue\r\n  const leaveQueue = async () => {\r\n    if (!user) return;\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const userID = localStorage.getItem('session-user-id');\r\n      if (!userID) {\r\n        setError('No session found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const response = await fetch('http://localhost:8080/api/queue/leave', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-ID': userID\r\n        }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (response.ok && data.success !== false) {\r\n        setIsInQueue(false);\r\n        fetchQueueStatus();\r\n      } else {\r\n        setError(data.message || 'Failed to leave queue');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error leaving queue:', error);\r\n      setError('Failed to leave queue');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Create match when ready\r\n  const createMatch = async () => {\r\n    // Prevent multiple simultaneous match creation attempts\r\n    if (isCreatingMatch) {\r\n      console.log('Match creation already in progress, skipping...');\r\n      return;\r\n    }\r\n    \r\n    setIsCreatingMatch(true);\r\n    \r\n    try {\r\n      console.log('Attempting to create match...');\r\n      const userID = localStorage.getItem('session-user-id');\r\n      const response = await fetch('http://localhost:8080/api/match-room/create', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-ID': userID || ''\r\n        }\r\n      });\r\n      \r\n      console.log('Response status:', response.status);\r\n      console.log('Response ok:', response.ok);\r\n      \r\n      const data = await response.json();\r\n      console.log('Parsed data:', data);\r\n      console.log('data.success:', data.success);\r\n      console.log('data.data:', data.data);\r\n      console.log('data.data.match:', data.data?.match);\r\n      \r\n      if (response.ok && data.success && data.data) {\r\n        console.log('âœ… Match created successfully:', data.data.match);\r\n        \r\n        // Show acceptance popup instead of immediately navigating\r\n        setFoundMatch(data.data.match);\r\n        setShowAcceptance(true);\r\n        setCurrentMatch(data.data.match);\r\n        setIsInQueue(false);\r\n      } else {\r\n        console.log('âŒ Failed to create match:', data.message || data.data?.message);\r\n        setError(data.message || data.data?.message || 'Failed to create match room');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating match room:', error);\r\n      setError('Failed to create match room');\r\n    } finally {\r\n      setIsCreatingMatch(false);\r\n    }\r\n  };\r\n\r\n  // Real-time queue updates and match detection\r\n  useEffect(() => {\r\n    const pollForUpdates = async () => {\r\n      // First check if player has a pending match\r\n      if (isInQueue && !showAcceptance && !currentMatch) {\r\n        const hasPendingMatch = await checkForPendingMatch();\r\n        if (hasPendingMatch) {\r\n          return; // Stop polling queue if we found a match\r\n        }\r\n      }\r\n      \r\n      // Then check queue status\r\n      await fetchQueueStatus();\r\n    };\r\n\r\n    // Initial fetch\r\n    pollForUpdates();\r\n    \r\n    // Set up polling for real-time updates\r\n    const interval = setInterval(pollForUpdates, 1000); // Update every second\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isInQueue, showAcceptance, currentMatch]); // Dependencies to re-run when these change\r\n\r\n  // Check for match room creation when queue data changes\r\n  useEffect(() => {\r\n    if (queueData.should_create_match && isInQueue && queueData.players_in_queue === 2 && !currentMatch && !isCreatingMatch) { // TEMPORARY: Changed from 10 to 2\r\n      createMatch();\r\n    }\r\n  }, [queueData.should_create_match, queueData.players_in_queue, isInQueue, currentMatch, isCreatingMatch]);\r\n\r\n  const handleMatchAccept = () => {\r\n    console.log('Match accepted');\r\n    // The acceptance is handled by the MatchAcceptance component\r\n    // We can add additional logic here if needed\r\n  };\r\n\r\n  const handleMatchDecline = () => {\r\n    console.log('Match declined');\r\n    setFoundMatch(null);\r\n    setShowAcceptance(false);\r\n    setCurrentMatch(null);\r\n    setError('Match was declined. You have been returned to the queue.');\r\n  };\r\n\r\n  // Show match found modal\r\n  if (currentMatch) {\r\n    return (\r\n      <div className=\"min-h-96 flex items-center justify-center\">\r\n        <div className=\"bg-valorant-dark-secondary border border-valorant-red rounded-lg p-8 text-center max-w-md\">\r\n          <div className=\"mb-6\">\r\n            <div className=\"text-green-400 text-6xl mb-4\">âœ“</div>\r\n            <h2 className=\"text-2xl font-valorant text-white mb-2\">MATCH FOUND</h2>\r\n            <p className=\"text-valorant-gray-300\">Redirecting to game lobby...</p>\r\n          </div>\r\n          \r\n          <div className=\"space-y-2 text-sm text-valorant-gray-400\">\r\n            <p>Match ID: {currentMatch.id}</p>\r\n            <p>Game Mode: Competitive</p>\r\n            <p>Players: 10/10</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className=\"text-4xl font-valorant text-white mb-4 text-glow\">\r\n          COMPETITIVE MATCHMAKING\r\n        </h1>\r\n        <p className=\"text-valorant-gray-300 text-lg\">\r\n          Find players of similar skill level for ranked matches\r\n        </p>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"bg-red-900 border border-red-600 text-red-300 px-4 py-2 rounded mb-6\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {queueData.is_queue_full && !isInQueue && (\r\n        <div className=\"bg-orange-900 border border-orange-600 text-orange-300 px-4 py-2 rounded mb-6\">\r\n          Queue is currently full. Please wait for the current match to start before joining.\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid md:grid-cols-2 gap-8\">\r\n        {/* Queue Controls */}\r\n        <div className=\"bg-valorant-dark-secondary border border-valorant-gray-700 rounded-lg p-6\">\r\n          <h2 className=\"text-xl font-medium text-white mb-4\">Queue Status</h2>\r\n          \r\n          <div className=\"space-y-4 mb-6\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-valorant-gray-300\">Players in Queue:</span>\r\n              <span className=\"text-white font-medium\">{queueData.players_in_queue}/{queueData.max_players || 10}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-valorant-gray-300\">Estimated Wait:</span>\r\n              <span className=\"text-white font-medium\">{queueData.estimated_wait}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-valorant-gray-300\">Your Status:</span>\r\n              <span className={`font-medium ${isInQueue ? 'text-green-400' : 'text-gray-400'}`}>\r\n                {isInQueue ? 'In Queue' : 'Not Queued'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"w-full bg-valorant-gray-800 rounded-full h-2 mb-4\">\r\n            <div \r\n              className={`h-2 rounded-full transition-all duration-300 ${\r\n                queueData.is_queue_full \r\n                  ? 'bg-gradient-to-r from-orange-500 to-red-500' \r\n                  : 'bg-valorant-red'\r\n              }`}\r\n              style={{ width: `${(queueData.players_in_queue / (queueData.max_players || 10)) * 100}%` }}\r\n            />\r\n          </div>\r\n\r\n          {!isInQueue ? (\r\n            <button\r\n              onClick={joinQueue}\r\n              disabled={loading || queueData.is_queue_full}\r\n              className={`w-full ${\r\n                queueData.is_queue_full \r\n                  ? 'bg-gray-600 text-gray-400 cursor-not-allowed' \r\n                  : 'btn-primary'\r\n              }`}\r\n            >\r\n              {loading ? 'Joining...' : queueData.is_queue_full ? 'QUEUE FULL' : 'JOIN QUEUE'}\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={leaveQueue}\r\n              disabled={loading}\r\n              className=\"btn-secondary w-full\"\r\n            >\r\n              {loading ? 'Leaving...' : 'LEAVE QUEUE'}\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Match Information */}\r\n        <div className=\"bg-valorant-dark-secondary border border-valorant-gray-700 rounded-lg p-6\">\r\n          <h2 className=\"text-xl font-medium text-white mb-4\">Match Information</h2>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <h3 className=\"text-sm font-medium text-valorant-gray-300 mb-2\">Game Mode</h3>\r\n              <p className=\"text-white\">Competitive</p>\r\n            </div>\r\n            \r\n            <div>\r\n              <h3 className=\"text-sm font-medium text-valorant-gray-300 mb-2\">Map Pool</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {['Bind', 'Haven', 'Split', 'Ascent', 'Icebox'].map((map) => (\r\n                  <span \r\n                    key={map}\r\n                    className=\"px-2 py-1 bg-valorant-gray-800 text-valorant-gray-300 text-sm rounded\"\r\n                  >\r\n                    {map}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <h3 className=\"text-sm font-medium text-valorant-gray-300 mb-2\">Match Format</h3>\r\n              <p className=\"text-white\">10 rounds to win</p>\r\n            </div>\r\n            \r\n            <div>\r\n              <h3 className=\"text-sm font-medium text-valorant-gray-300 mb-2\">Team Size</h3>\r\n              <p className=\"text-white\">5v5</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Queue Players */}\r\n      {isInQueue && queueData.players && queueData.players.length > 0 && (\r\n        <div className=\"mt-8 bg-valorant-dark-secondary border border-valorant-gray-700 rounded-lg p-6\">\r\n          <h2 className=\"text-xl font-medium text-white mb-4\">Players in Queue</h2>\r\n          \r\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n            {queueData.players.map((player, index) => (\r\n              <div key={index} className=\"text-center\">\r\n                <div className=\"w-12 h-12 bg-valorant-gray-800 rounded-full mx-auto mb-2 flex items-center justify-center\">\r\n                  <span className=\"text-white font-medium\">{player.username?.charAt(0) || 'P'}</span>\r\n                </div>\r\n                <p className=\"text-sm text-white\">{player.username || `Player ${index + 1}`}</p>\r\n                <p className=\"text-xs text-valorant-gray-400\">ELO: {player.elo || 1000}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Match Acceptance Popup */}\r\n      {showAcceptance && foundMatch && (\r\n        <MatchAcceptance\r\n          match={foundMatch}\r\n          onAccept={handleMatchAccept}\r\n          onDecline={handleMatchDecline}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Matchmaking;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}