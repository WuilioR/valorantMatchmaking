{"ast":null,"code":"import * as api from './api';\nexport const login = async (email, password) => {\n  try {\n    var _response$data;\n    const response = await api.login({\n      email,\n      password\n    });\n    return {\n      user: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.user) || {\n        id: 'temp-user',\n        email,\n        username: email.split('@')[0]\n      },\n      error: null\n    };\n  } catch (error) {\n    return {\n      user: null,\n      error: error.message || 'Login failed'\n    };\n  }\n};\nexport const register = async (username, email, password) => {\n  try {\n    var _response$data2;\n    const response = await api.register({\n      username,\n      email,\n      password\n    });\n    return {\n      user: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.user) || {\n        id: 'temp-user',\n        email,\n        username\n      },\n      error: null\n    };\n  } catch (error) {\n    return {\n      user: null,\n      error: error.message || 'Registration failed'\n    };\n  }\n};\nexport const logout = async () => {\n  try {\n    // For now, just clear local storage\n    localStorage.removeItem('user');\n    return {\n      error: null\n    };\n  } catch (error) {\n    return {\n      error: error.message || 'Logout failed'\n    };\n  }\n};\nexport const getUser = () => {\n  try {\n    const userJson = localStorage.getItem('user');\n    return userJson ? JSON.parse(userJson) : null;\n  } catch {\n    return null;\n  }\n};","map":{"version":3,"names":["api","login","email","password","_response$data","response","user","data","id","username","split","error","message","register","_response$data2","logout","localStorage","removeItem","getUser","userJson","getItem","JSON","parse"],"sources":["C:/Users/wuili/Documents/valorant-mobile-web/frontend/src/services/auth.ts"],"sourcesContent":["import * as api from './api';\n\nexport const login = async (email: string, password: string) => {\n    try {\n        const response = await api.login({ email, password });\n        return { \n            user: response.data?.user || { id: 'temp-user', email, username: email.split('@')[0] }, \n            error: null \n        };\n    } catch (error: any) {\n        return { \n            user: null, \n            error: error.message || 'Login failed' \n        };\n    }\n};\n\nexport const register = async (username: string, email: string, password: string) => {\n    try {\n        const response = await api.register({ username, email, password });\n        return { \n            user: response.data?.user || { id: 'temp-user', email, username }, \n            error: null \n        };\n    } catch (error: any) {\n        return { \n            user: null, \n            error: error.message || 'Registration failed' \n        };\n    }\n};\n\nexport const logout = async () => {\n    try {\n        // For now, just clear local storage\n        localStorage.removeItem('user');\n        return { error: null };\n    } catch (error: any) {\n        return { error: error.message || 'Logout failed' };\n    }\n};\n\nexport const getUser = () => {\n    try {\n        const userJson = localStorage.getItem('user');\n        return userJson ? JSON.parse(userJson) : null;\n    } catch {\n        return null;\n    }\n};"],"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,OAAO;AAE5B,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAAK;EAC5D,IAAI;IAAA,IAAAC,cAAA;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACC,KAAK,CAAC;MAAEC,KAAK;MAAEC;IAAS,CAAC,CAAC;IACrD,OAAO;MACHG,IAAI,EAAE,EAAAF,cAAA,GAAAC,QAAQ,CAACE,IAAI,cAAAH,cAAA,uBAAbA,cAAA,CAAeE,IAAI,KAAI;QAAEE,EAAE,EAAE,WAAW;QAAEN,KAAK;QAAEO,QAAQ,EAAEP,KAAK,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;MAAE,CAAC;MACtFC,KAAK,EAAE;IACX,CAAC;EACL,CAAC,CAAC,OAAOA,KAAU,EAAE;IACjB,OAAO;MACHL,IAAI,EAAE,IAAI;MACVK,KAAK,EAAEA,KAAK,CAACC,OAAO,IAAI;IAC5B,CAAC;EACL;AACJ,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOJ,QAAgB,EAAEP,KAAa,EAAEC,QAAgB,KAAK;EACjF,IAAI;IAAA,IAAAW,eAAA;IACA,MAAMT,QAAQ,GAAG,MAAML,GAAG,CAACa,QAAQ,CAAC;MAAEJ,QAAQ;MAAEP,KAAK;MAAEC;IAAS,CAAC,CAAC;IAClE,OAAO;MACHG,IAAI,EAAE,EAAAQ,eAAA,GAAAT,QAAQ,CAACE,IAAI,cAAAO,eAAA,uBAAbA,eAAA,CAAeR,IAAI,KAAI;QAAEE,EAAE,EAAE,WAAW;QAAEN,KAAK;QAAEO;MAAS,CAAC;MACjEE,KAAK,EAAE;IACX,CAAC;EACL,CAAC,CAAC,OAAOA,KAAU,EAAE;IACjB,OAAO;MACHL,IAAI,EAAE,IAAI;MACVK,KAAK,EAAEA,KAAK,CAACC,OAAO,IAAI;IAC5B,CAAC;EACL;AACJ,CAAC;AAED,OAAO,MAAMG,MAAM,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI;IACA;IACAC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/B,OAAO;MAAEN,KAAK,EAAE;IAAK,CAAC;EAC1B,CAAC,CAAC,OAAOA,KAAU,EAAE;IACjB,OAAO;MAAEA,KAAK,EAAEA,KAAK,CAACC,OAAO,IAAI;IAAgB,CAAC;EACtD;AACJ,CAAC;AAED,OAAO,MAAMM,OAAO,GAAGA,CAAA,KAAM;EACzB,IAAI;IACA,MAAMC,QAAQ,GAAGH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAC;IAC7C,OAAOD,QAAQ,GAAGE,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,GAAG,IAAI;EACjD,CAAC,CAAC,MAAM;IACJ,OAAO,IAAI;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}