{"ast":null,"code":"import*as api from'./api';export const login=async(email,password)=>{try{var _response$data;const response=await api.login({email,password});return{user:((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.user)||{id:'temp-user',email,username:email.split('@')[0]},error:null};}catch(error){return{user:null,error:error.message||'Login failed'};}};export const register=async(username,email,password)=>{try{var _response$data2;const response=await api.register({username,email,password});return{user:((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.user)||{id:'temp-user',email,username},error:null};}catch(error){return{user:null,error:error.message||'Registration failed'};}};export const logout=async()=>{try{// For now, just clear local storage\nlocalStorage.removeItem('user');return{error:null};}catch(error){return{error:error.message||'Logout failed'};}};export const getUser=()=>{try{const userJson=localStorage.getItem('user');return userJson?JSON.parse(userJson):null;}catch(_unused){return null;}};","map":{"version":3,"names":["api","login","email","password","_response$data","response","user","data","id","username","split","error","message","register","_response$data2","logout","localStorage","removeItem","getUser","userJson","getItem","JSON","parse","_unused"],"sources":["C:/Users/wuili/Documents/valorant-mobile-web/frontend/src/services/auth.ts"],"sourcesContent":["import * as api from './api';\r\n\r\nexport const login = async (email: string, password: string) => {\r\n    try {\r\n        const response = await api.login({ email, password });\r\n        return { \r\n            user: response.data?.user || { id: 'temp-user', email, username: email.split('@')[0] }, \r\n            error: null \r\n        };\r\n    } catch (error: any) {\r\n        return { \r\n            user: null, \r\n            error: error.message || 'Login failed' \r\n        };\r\n    }\r\n};\r\n\r\nexport const register = async (username: string, email: string, password: string) => {\r\n    try {\r\n        const response = await api.register({ username, email, password });\r\n        return { \r\n            user: response.data?.user || { id: 'temp-user', email, username }, \r\n            error: null \r\n        };\r\n    } catch (error: any) {\r\n        return { \r\n            user: null, \r\n            error: error.message || 'Registration failed' \r\n        };\r\n    }\r\n};\r\n\r\nexport const logout = async () => {\r\n    try {\r\n        // For now, just clear local storage\r\n        localStorage.removeItem('user');\r\n        return { error: null };\r\n    } catch (error: any) {\r\n        return { error: error.message || 'Logout failed' };\r\n    }\r\n};\r\n\r\nexport const getUser = () => {\r\n    try {\r\n        const userJson = localStorage.getItem('user');\r\n        return userJson ? JSON.parse(userJson) : null;\r\n    } catch {\r\n        return null;\r\n    }\r\n};"],"mappings":"AAAA,MAAO,GAAK,CAAAA,GAAG,KAAM,OAAO,CAE5B,MAAO,MAAM,CAAAC,KAAK,CAAG,KAAAA,CAAOC,KAAa,CAAEC,QAAgB,GAAK,CAC5D,GAAI,KAAAC,cAAA,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACC,KAAK,CAAC,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAC,CACrD,MAAO,CACHG,IAAI,CAAE,EAAAF,cAAA,CAAAC,QAAQ,CAACE,IAAI,UAAAH,cAAA,iBAAbA,cAAA,CAAeE,IAAI,GAAI,CAAEE,EAAE,CAAE,WAAW,CAAEN,KAAK,CAAEO,QAAQ,CAAEP,KAAK,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE,CAAC,CACtFC,KAAK,CAAE,IACX,CAAC,CACL,CAAE,MAAOA,KAAU,CAAE,CACjB,MAAO,CACHL,IAAI,CAAE,IAAI,CACVK,KAAK,CAAEA,KAAK,CAACC,OAAO,EAAI,cAC5B,CAAC,CACL,CACJ,CAAC,CAED,MAAO,MAAM,CAAAC,QAAQ,CAAG,KAAAA,CAAOJ,QAAgB,CAAEP,KAAa,CAAEC,QAAgB,GAAK,CACjF,GAAI,KAAAW,eAAA,CACA,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACa,QAAQ,CAAC,CAAEJ,QAAQ,CAAEP,KAAK,CAAEC,QAAS,CAAC,CAAC,CAClE,MAAO,CACHG,IAAI,CAAE,EAAAQ,eAAA,CAAAT,QAAQ,CAACE,IAAI,UAAAO,eAAA,iBAAbA,eAAA,CAAeR,IAAI,GAAI,CAAEE,EAAE,CAAE,WAAW,CAAEN,KAAK,CAAEO,QAAS,CAAC,CACjEE,KAAK,CAAE,IACX,CAAC,CACL,CAAE,MAAOA,KAAU,CAAE,CACjB,MAAO,CACHL,IAAI,CAAE,IAAI,CACVK,KAAK,CAAEA,KAAK,CAACC,OAAO,EAAI,qBAC5B,CAAC,CACL,CACJ,CAAC,CAED,MAAO,MAAM,CAAAG,MAAM,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA;AACAC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC,CAC/B,MAAO,CAAEN,KAAK,CAAE,IAAK,CAAC,CAC1B,CAAE,MAAOA,KAAU,CAAE,CACjB,MAAO,CAAEA,KAAK,CAAEA,KAAK,CAACC,OAAO,EAAI,eAAgB,CAAC,CACtD,CACJ,CAAC,CAED,MAAO,MAAM,CAAAM,OAAO,CAAGA,CAAA,GAAM,CACzB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAGH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAC,CAC7C,MAAO,CAAAD,QAAQ,CAAGE,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,CAAG,IAAI,CACjD,CAAE,MAAAI,OAAA,CAAM,CACJ,MAAO,KAAI,CACf,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}